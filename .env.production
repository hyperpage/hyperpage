# Hyperpage Production Environment Configuration
# PostgreSQL Migration Phase 8 - Production Template
# 
# ‚ÑπÔ∏è  NOTE: This file is separate from the local development secrets system.
# The .env.* files in this template are for production deployment environments
# (Kubernetes, Docker Swarm, etc.) and are not affected by local development changes.
# 
# üöÄ PRODUCTION SETUP INSTRUCTIONS
# 1. Copy this file to .env.production (in your local deployment environment)
# 2. Replace all placeholder values with actual production credentials
# 3. Ensure strong, unique passwords and secrets for security
# 4. Configure your production database and monitoring services
# 5. For local development, copy .env.sample to .env.dev

# ================================
# DATABASE CONFIGURATION (PostgreSQL)
# ================================

# PostgreSQL Database Connection
DATABASE_URL=postgresql://hyperpage:REPLACE_WITH_SECURE_PASSWORD@hyperpage-postgres:5432/hyperpage

# PostgreSQL Connection Pool Settings (Production)
DB_POOL_MAX=25
DB_POOL_MIN=5
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=5000
DB_STATEMENT_TIMEOUT=30000
DB_QUERY_TIMEOUT=30000

# Individual PostgreSQL Connection Parameters
POSTGRES_HOST=hyperpage-postgres
POSTGRES_PORT=5432
POSTGRES_DB=hyperpage
POSTGRES_USER=hyperpage
POSTGRES_PASSWORD=REPLACE_WITH_SECURE_PRODUCTION_PASSWORD

# Connection Security
POSTGRES_SSL_MODE=disable
POSTGRES_TRUST_LOCAL_CERT=true

# ================================
# APPLICATION CONFIGURATION
# ================================

# Environment
NODE_ENV=production
NEXTAUTH_ENV=production

# Application URLs
BASE_URL=https://your-production-domain.com
NEXTAUTH_URL=https://your-production-domain.com
NEXT_PUBLIC_BASE_URL=https://your-production-domain.com
NEXT_PUBLIC_ENV_FILE=.env.production
CONFIG_ENV_FILE=.env.production

# Security
SESSION_SECRET=REPLACE_WITH_32_CHARACTER_SESSION_SECRET
JWT_SECRET=REPLACE_WITH_32_CHARACTER_JWT_SECRET
NEXTAUTH_SECRET=REPLACE_WITH_32_CHARACTER_NEXTAUTH_SECRET
OAUTH_ENCRYPTION_KEY=REPLACE_WITH_32_CHARACTER_OAUTH_KEY

# ================================
# TOOL INTEGRATIONS (Production)
# ================================

# GitHub (Production Tokens)
ENABLE_GITHUB=true
GITHUB_TOKEN=ghp_your_production_github_token
GITHUB_USERNAME=your_production_github_username

# Optional: GitLab (Production Configuration)
# ENABLE_GITLAB=true
# GITLAB_WEB_URL=https://gitlab.yourcompany.com
# GITLAB_TOKEN=glpat_your_production_gitlab_token

# Optional: Jira (Production Configuration)
# ENABLE_JIRA=true
# JIRA_WEB_URL=https://yourcompany.atlassian.net
# JIRA_EMAIL=admin@yourcompany.com
# JIRA_API_TOKEN=your_production_jira_api_token

# ================================
# AGGREGATION TOOLS
# ================================

# Enable aggregation tools
ENABLE_CODE_REVIEWS=true
ENABLE_CICD=true
ENABLE_TICKETING=true

# ================================
# SECURITY & RATE LIMITING
# ================================

# Security Settings
ENABLE_RATE_LIMITING=true
ENABLE_API_KEY_VALIDATION=true
ENABLE_AUDIT_LOGGING=true
ENABLE_SECURITY_HEADERS=true

# Rate Limiting Configuration
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_SKIP_FAILED_REQUESTS=true

# ================================
# MONITORING & OBSERVABILITY
# ================================

# Monitoring
ENABLE_METRICS=true
ENABLE_HEALTH_CHECKS=true
ENABLE_PERFORMANCE_MONITORING=true
LOG_LEVEL=info

# Metrics Configuration
METRICS_PORT=3001
METRICS_ENDPOINT=/api/metrics
METRICS_COLLECTION_INTERVAL=60000

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000
HEALTH_CHECK_RETRIES=3

# ================================
# PERFORMANCE & CACHING
# ================================

# Redis Configuration (for production caching)
# When REDIS_URL is configured, Redis will be used for persistent caching
# If Redis is unavailable, the application gracefully falls back to memory-only caching
# REDIS_URL=redis://redis:6379

# Caching Settings
CACHE_TTL=300
CACHE_MAX_SIZE=1000
ENABLE_RESPONSE_CACHING=true

# Database Performance
ENABLE_QUERY_ANALYTICS=true
SLOW_QUERY_THRESHOLD=1000

# ================================
# OAUTH CONFIGURATION (Optional)
# ================================

# OAuth Application Secrets (Required for multi-user access)
# Generate encryption key: openssl rand -hex 32

# GitHub OAuth
GITHUB_OAUTH_CLIENT_ID=your_production_github_oauth_client_id
GITHUB_OAUTH_CLIENT_SECRET=your_production_github_oauth_client_secret

# Optional: GitLab OAuth
# GITLAB_OAUTH_CLIENT_ID=your_production_gitlab_oauth_client_id
# GITLAB_OAUTH_CLIENT_SECRET=your_production_gitlab_oauth_client_secret

# Optional: Jira OAuth
# JIRA_OAUTH_CLIENT_ID=your_production_jira_oauth_client_id
# JIRA_OAUTH_CLIENT_SECRET=your_production_jira_oauth_client_secret

# ================================
# DEPLOYMENT & OPERATIONS
# ================================

# Deployment
DEPLOYMENT_ENVIRONMENT=production
DEPLOYMENT_REGION=us-east-1
DEPLOYMENT_VERSION=v0.1.0

# Operations
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=System is currently under maintenance
FEATURE_FLAGS_ENABLED=true

# ================================
# BACKUP & RECOVERY
# ================================

# Database Backup
ENABLE_DB_BACKUP=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_URL=s3://your-backup-bucket/hyperpage/

# ================================
# PRODUCTION SECURITY CHECKLIST
# ================================

# ‚úÖ SECURE SETUP REQUIREMENTS:
# 1. All passwords are unique and strong (min 16 characters)
# 2. SSL/TLS certificates configured for your domain
# 3. Firewall rules restrict database access to application only
# 4. Secrets are stored in Kubernetes secrets, not in code
# 5. Rate limiting and security headers enabled
# 6. Monitoring and alerting configured
# 7. Regular automated backups configured
# 8. Data encryption at rest enabled
# 9. Access logging and audit trails enabled
# 10. Regular security updates scheduled

# ================================
# PRODUCTION DEPLOYMENT NOTES
# ================================

# üîí SECURITY IMPORTANT:
# - Never commit real credentials to version control
# - Use Kubernetes secrets for sensitive data
# - Enable SSL/TLS in production
# - Configure proper firewall rules
# - Regular security audits required

# üìä MONITORING:
# - Set up Prometheus metrics collection
# - Configure Grafana dashboards
# - Enable health check endpoints
# - Set up alerting for critical issues

# üíæ BACKUP STRATEGY:
# - Automated daily backups at 2 AM
# - 30-day retention policy
# - Regular restoration testing
# - Point-in-time recovery capability

# üöÄ DEPLOYMENT:
# - Use blue-green deployment strategy
# - Maintain rollback capability
# - Test migrations on staging first
# - Monitor performance post-deployment

# ‚ö†Ô∏è  PRODUCTION READY CHECKLIST:
# [ ] All placeholder values replaced with real credentials
# [ ] SSL certificates configured and valid
# [ ] Database backup strategy implemented
# [ ] Monitoring and alerting configured
# [ ] Security scanning completed
# [ ] Load testing performed
# [ ] Disaster recovery plan documented
# [ ] Team access controls configured
# [ ] Performance baselines established
# [ ] Rollback procedures tested
