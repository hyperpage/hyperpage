# Canonical testing environment sample for Vitest + docker-compose.testing.yml
# ------------------------------------------------------------------------
# Copy this file to `.env.testing` and adjust the secrets for your local setup.
# Never commit real credentials; keep placeholder/demo values only.

# ================================
# DATABASE CONFIGURATION
# ================================
POSTGRES_DB=hyperpage-testing
POSTGRES_PASSWORD=postgres
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_SSL_MODE=disable
POSTGRES_TRUST_LOCAL_CERT=true

# Vitest on the host talks to the forwarded port from docker-compose.testing.yml.
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/hyperpage-testing

# ================================
# REDIS CONFIGURATION
# ================================
REDIS_URL=redis://localhost:6379

# ================================
# APP / NEXT SETTINGS
# ================================
NODE_ENV=testing
LOG_LEVEL=info
BASE_URL=http://localhost:3000
NEXT_PUBLIC_BASE_URL=http://localhost:3000
NEXT_PUBLIC_NODE_ENV=testing
HYPERPAGE_TEST_BASE_URL=http://localhost:3000

# ================================
# FEATURE FLAGS & SECURITY
# ================================
RATE_LIMIT_REQUESTS_PER_HOUR=10000
SESSION_SECRET=changeme-session-secret-for-testing-only
JWT_SECRET=changeme-jwt-secret-for-testing-only
OAUTH_ENCRYPTION_KEY=changeme-oauth-encryption-key

# Tool enablement defaults (override per suite as needed)
ENABLE_CODE_REVIEWS=true
ENABLE_CICD=true
ENABLE_TICKETING=true
ENABLE_GITHUB=false
ENABLE_GITLAB=false
ENABLE_JIRA=false

# Placeholder credentials (replace locally when running external integrations)
GITHUB_TOKEN=changeme-github-token
GITHUB_USERNAME=local-github-user
GITLAB_TOKEN=changeme-gitlab-token
JIRA_API_TOKEN=changeme-jira-token
JIRA_EMAIL=dev@example.com
JIRA_WEB_URL=https://example.atlassian.net

# OAuth client placeholders (required only for end-to-end OAuth coverage)
GITHUB_OAUTH_CLIENT_ID=changeme-github-client-id
GITHUB_OAUTH_CLIENT_SECRET=changeme-github-client-secret
GITLAB_OAUTH_CLIENT_ID=changeme-gitlab-client-id
GITLAB_OAUTH_CLIENT_SECRET=changeme-gitlab-client-secret
JIRA_OAUTH_CLIENT_ID=changeme-jira-client-id
JIRA_OAUTH_CLIENT_SECRET=changeme-jira-client-secret

# Optional E2E suite flags
E2E_TESTS=0
E2E_OAUTH=0
